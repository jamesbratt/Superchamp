{% extends "base.html" %}
{% load staticfiles %}
{% block content %}
<div class="container">
	<!-- Content Header (Page header) -->
	<section class="content-header">
		<h1>
	  		Upload Results
		</h1>
	</section>

    <!-- Main content -->
    <section class="content">
		{% if messages %}
		<div class="messages">
		    {% for message in messages %}
		    <div {% if message.tags == 'error' %}class="alert alert-danger"{% else %}class="alert alert-success"{% endif %} role="alert">
		      {{ message }}
		    </div>
		    {% endfor %}
		</div>
		{% endif %}
		{% if results %}
		<div class="row">
			<div class="col-md-12">
				<div class="box">
		            <div class="box-header">
		              <h3 class="box-title">Challenges</h3>
		            </div>
		            <!-- /.box-header -->
		            <div class="box-body table-responsive no-padding">
		              <table class="table table-hover">
		                <tbody><tr>
		                  <th>Target Time</th>
		                  <th>Uploaded Time</th>
		                  <th>Average Speed</th>
		                  <th>Goal Achieved</th>
		                  <th></th>
		                </tr>
		                {% for result in results %}
		                  <td>{{result.target}}</td>
		                  <td>{{result.upload.duration}}</td>
		                  <td>{{result.upload.average_speed}}</td>
		                  <td>{{result.achieved}}</td>
		                  <td><a href="/routes/{{ result.route_id }}">View full results</a></td>
		                </tr>
		                {% endfor %}
		                <tr>
		              </tbody></table>
		            </div>
		            <!-- /.box-body -->
	          	</div>
			</div>
		</div>
		{% endif %}
    </section>
</div>
{% endblock content %}